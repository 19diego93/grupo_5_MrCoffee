<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../partials/head') %>
    <link rel="stylesheet" href="/css/users/styles.css" />
    <link rel="stylesheet" href="/css/users/edit.css" />
</head>

<body>
  <%- include('../partials/header') %>
    <main>
      <section class="contenedor-edit">
        <article class="elem_1">
          <div class="Container-Config">
            <button class="content-button" id="button-config">
              <i class="fas fa-cog" aria-hidden="true"></i>
              <p>Configuración</p>
              <i class="fas fa-angle-down list_arrow" aria-hidden="true"></i>
            </button>
            <ul class="list_show">
              <li class="list__inside">
                <a href="/user/profile" class="nav_link nav_link--inside">Mi Perfil</a>
              </li>
              <li class="list__inside">
                <a href="/user/profile/edit" class="nav_link nav_link--inside select-url">Editar Perfil</a>
              </li>
              <li class="list__inside">
                <a href="/user/profile/password" class="nav_link nav_link--inside">Cambiar Contraseña</a>
              </li>
            </ul>
          </div>
        </article>
        <article class="elem_2">
          <div class="container-card-pcEdit">
            <div class=" cardEdit">
              <img src="/img/bg-pattern-card.svg" alt="imagen header card" class="card-headerEdit">
              <div class="card-bodyEdit">
                <div class="new-img">
                  <picture>
                    <img class="card-body-img" id="view-new-upload-img" src="/img/avatar/<%=user.image%>"
                      alt="imagen de usuario" />

                  </picture>
                </div>
                <div class="container-form-Edit">
                  <form action="/user/profile/edit?_method=PUT" method="POST" enctype="multipart/form-data" id="formulario">

                    <div class="form-style">
                      <div class="contenedor-campo">
                        <label for="fname">Nombre</label>
                        <input type="fname" id="fname" name="fname" placeholder="Escribe tu nombre"
                          value="<%= locals.oldData ? oldData.fname : user.first_name %>"
                          class="<%= locals.errors && errors.fname ? 'is-invalid' : null %>" />
                        <!-- Errores del Back -->
                        <% if (locals.errors && errors.fname){ %>
                          <div class="errors-t fnameErrBack">
                            <%= errors.fname.msg %>
                          </div>
                          <% } %>
                            <!-- Errores del Front -->
                            <div class="errors-t fnameErrors"></div>
                      </div>

                      <div class="contenedor-campo">
                        <label for="lname">Apellido</label>
                        <input type="lname" id="lname" name="lname" placeholder="Escribe tu apellido"
                          value="<%= locals.oldData ? oldData.lname : user.last_name %>"
                          class="<%= locals.errors && errors.lname ? 'is-invalid' : null %>" />
                        <!-- Errores del Back -->
                        <% if (locals.errors && errors.lname){ %>
                          <div class="errors-t lnameErrBack">
                            <%= errors.lname.msg %>
                          </div>
                          <% } %>
                            <!-- Errores del Front -->
                            <div class="errors-t lnameErrors"></div>
                      </div>

                      <div class="contenedor-campo">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="superhero@MrCoffee.com"
                          value="<%= locals.oldData ? oldData.email : user.email %>"
                          class="<%= locals.errors && errors.email ? 'is-invalid' : null %>" />
                        <!-- Errores del Back -->
                        <% if (locals.errors && errors.email){ %>
                          <div class="errors-t emailErrBack">
                            <%= errors.email.msg %>
                          </div>
                          <% } %>
                          <!-- Errores del Front -->
                          <div class="errors-t emailErrors"></div>
                      </div>

                      <div class="button-new-img">
                          <span>Imagen</span>
                          <label>
                            <p>Subir archivo</p>
                            <input
                              type="file"
                              name="image"
                              id="file"
                              accept="image/*"
                            />
                          </label>
                        <% if(locals.errors && errors.image){ %>
                        <p class="errors-t"><%= errors.image.msg %></p>
                        <% } %>
                      </div>

                    </div>
                    <div class="container-button">
                      <input type="submit" value="Actualizar" class="button-dark" />
                    </div>
                  </form>

                </div>
              </div>
            </div>
          </div>
        </article>
      </section>

      </section>
    </main>
    <%- include('../partials/footer') %>
      <script src="/js/drop-downProfile.js" type="text/javascript"></script>
      <script src="/js/img-preview.js" type="text/javascript"></script>
      <script src="/js/validations/editProfile.js"></script>
</body>

</html>